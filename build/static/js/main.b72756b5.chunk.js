(this["webpackJsonpbloglist-app"]=this["webpackJsonpbloglist-app"]||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(14),o=n.n(c),r=(n(5),n(3)),u=function(e){var t=e.blogs,n=e.handleDelete,a=t.map((function(e){return l.a.createElement("li",{key:e.id},e.content," ",e.name," ",e.url,l.a.createElement("button",{className:"deletor",onClick:function(){return n(e.id)}},"Delete"))}));return l.a.createElement("div",null,a)},i=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"error"},t)},s=n(2),d=n.n(s),m=function(){return d.a.get("/api/blogs").then((function(e){return e.data}))},f=function(e,t){return d.a.put("".concat("/api/blogs","/").concat(e),t).then((function(e){return e.data}))},b=function(e){return d.a.delete("".concat("/api/blogs","/").concat(e))},g=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([""]),s=Object(r.a)(o,2),g=s[0],p=s[1],h=Object(a.useState)([""]),E=Object(r.a)(h,2),v=E[0],j=E[1],w=Object(a.useState)([""]),O=Object(r.a)(w,2),S=O[0],y=O[1],B=Object(a.useState)(""),D=Object(r.a)(B,2),k=D[0],A=D[1];Object(a.useEffect)((function(){m().then((function(e){c(e)}))}),[]);return l.a.createElement("div",null,l.a.createElement("h1",null,"Blog List"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={content:g,name:v,url:S,id:1e3*Math.random()},a=g,l=n.filter((function(e){return a===e.content}));if(0!==l.length){var o=l[0].id;return window.confirm("Blog is already in the list, replace it?")&&f(o,t).then((function(e){console.log(e),c(n.map((function(t){return t.id!==o?t:e})))})),c(n.concat(t))}return d.a.post("http://localhost:3001/blogs",t).then((function(e){c(n.concat(e.data)),p(""),j(""),y(""),A("New blog called ".concat(t.content," was added")),setTimeout((function(){A(null)}),5e3)})),c(n.concat(t))}},l.a.createElement(i,{message:k}),l.a.createElement("h4",null,"Add New"),l.a.createElement("div",null,"Title:",l.a.createElement("input",{value:g,onChange:function(e){p(e.target.value)}})),l.a.createElement("div",null,"Author:",l.a.createElement("input",{value:v,onChange:function(e){j(e.target.value)}})),l.a.createElement("div",null,"Url:",l.a.createElement("input",{value:S,onChange:function(e){y(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"Add"))),l.a.createElement("h4",null,"Added Blogs:"),l.a.createElement(u,{blogs:n,handleDelete:function(e){var t=n.filter((function(t){return t.id!==e}));window.confirm("Do you really want to delete this blog?")&&(b(e),c(t),A("Blog was removed"),setTimeout((function(){A(null)}),5e3))}}))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null)),document.getElementById("root"))},5:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.b72756b5.chunk.js.map