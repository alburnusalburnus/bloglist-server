(this["webpackJsonpbloglist-app"]=this["webpackJsonpbloglist-app"]||[]).push([[0],{16:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(14),o=n.n(c),u=(n(5),n(15)),r=n(3),i=function(e){var t=e.blogs,n=e.handleDelete,a=t.map((function(e){return l.a.createElement("li",{key:e.id},e.content," ",e.name," ",e.url,l.a.createElement("button",{className:"deletor",onClick:function(){return n(e.id)}},"Delete"))}));return l.a.createElement("div",null,a)},d=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"error"},t)},s=n(2),m=n.n(s),f=function(){return m.a.get("/api/blogs").then((function(e){return e.data}))},b=function(e,t){return m.a.put("".concat("/api/blogs","/").concat(e),t).then((function(e){return e.data}))},g=function(e){return m.a.delete("".concat("/api/blogs","/").concat(e))},p=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([""]),s=Object(r.a)(o,2),p=s[0],h=s[1],v=Object(a.useState)([""]),E=Object(r.a)(v,2),j=E[0],O=E[1],w=Object(a.useState)([""]),S=Object(r.a)(w,2),y=S[0],B=S[1],D=Object(a.useState)(""),k=Object(r.a)(D,2),A=k[0],C=k[1],N=function(){h(""),O(""),B("")};Object(a.useEffect)((function(){f().then((function(e){c(e)}))}),[]);return l.a.createElement("div",null,l.a.createElement("h1",null,"Blog List"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={content:p,name:j,url:y,id:1e3*Math.random()},a=p,l=n.filter((function(e){return a===e.content}));if(0!==l.length){var o=l[0].id;return window.confirm("Blog is already in the list, replace it?")&&b(o,Object(u.a)({},t,{id:o})).then((function(e){console.log(e),c(n.map((function(t){return t.id!==o?t:e})))})),void N()}return m.a.post("http://localhost:3001/blogs",t).then((function(e){c(n.concat(e.data)),h(""),O(""),B(""),C("New blog called ".concat(t.content," was added")),setTimeout((function(){C(null)}),5e3)})),N(),c(n.concat(t))}},l.a.createElement(d,{message:A}),l.a.createElement("h4",null,"Add New"),l.a.createElement("div",null,"Title:",l.a.createElement("input",{value:p,onChange:function(e){h(e.target.value)}})),l.a.createElement("div",null,"Author:",l.a.createElement("input",{value:j,onChange:function(e){O(e.target.value)}})),l.a.createElement("div",null,"Url:",l.a.createElement("input",{value:y,onChange:function(e){B(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"Add"))),l.a.createElement("h4",null,"Added Blogs:"),l.a.createElement(i,{blogs:n,handleDelete:function(e){var t=n.filter((function(t){return t.id!==e}));window.confirm("Do you really want to delete this blog?")&&(g(e),c(t),C("Blog was removed"),setTimeout((function(){C(null)}),5e3))}}))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null)),document.getElementById("root"))},5:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.a179c3f3.chunk.js.map